If we look at the function 
```
function refund(uint item, uint quantity) public payable {};
```

You would see that 

It does not follow C:E:I 

simple reentrancy attack solved it 